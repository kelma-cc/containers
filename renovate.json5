{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"extends": [
		"config:recommended",
		":dependencyDashboard",
		":assignee(taki-eddine)"
	],
	"dependencyDashboardTitle": "ðŸ¤– Renovate Dashboard",
	"rebaseWhen": "behind-base-branch",
	"autoApprove": true,
	"prHourlyLimit": 0,
	"prConcurrentLimit": 0,
	"commitMessageLowerCase": "auto",
	"commitMessagePrefix": "chore(deps):",
	"commitMessageAction": "",
	"commitMessageTopic": "{{lowercase (lookup (split depName '/') 1)}}",
	"commitMessageExtra": "{{replace '^v|-.*$' '' newVersion}}",
	"commitMessageSuffix": "",
	"packageRules": [
		{
			"automerge": true,
			"automergeType": "branch",
			"matchUpdateTypes": [
				"minor",
				"patch"
			]
		},
		{
			"matchPackageNames": "docker.io/plexinc/pms-docker",
			"commitMessageTopic": "plex",
			"commitMessageExtra": "{{replace '^v|-.*$' '' newVersion}}",
			"versioning": "loose"
		},
		{
			"matchPackageNames": "ghcr.io/qbittorrent/docker-qbittorrent-nox",
			"commitMessageTopic": "qbittorrent",
			"commitMessageExtra": "{{replace '^v|-.*$' '' newVersion}}",
			"versioning": "loose"
		}
	],
	"customManagers": [
		{
			"customType": "regex",
			"description": "Update custom dependencies",
			"fileMatch": "/?Dockerfile$",
			"matchStrings": [
				// # renovate: dependency=Sonarr/Sonarr datasource=github-releases versioning=loose
				// ARG SONARR_VERSION="1.0.0"
				" renovate: dependency=(?<depName>\\S+)( datasource=(?<datasource>\\S+))?( versioning=(?<versioning>\\S+))?\n.+[:=]\\s*['\"]?(?<currentValue>[\\d.]+)['\"]?"
			],
			"datasourceTemplate": "{{#if datasource}}{{datasource}}{{else}}github-releases{{/if}}",
			"versioningTemplate": "{{#if versioning}}{{versioning}}{{else}}loose{{/if}}"
		}
	]
}

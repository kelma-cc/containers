{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"extends": [
		"config:recommended",
		":dependencyDashboard",
		":assignee(taki-eddine)"
	],
	"rebaseWhen": "behind-base-branch",
	"prHourlyLimit": 0,
	"prConcurrentLimit": 0,
	"packageRules": [
		{
			"matchDatasources": [
				"docker"
			],
			"matchPackageNames": [
				"docker.io/plexinc/pms-docker",
				"ghcr.io/qbittorrent/docker-qbittorrent-nox"
			],
			"versioning": "regex:^(?<major>\\d+)(\\.(?<minor>\\d+))?(\\.(?<patch>\\d+))?(\\.(?<build>\\d+))?(-(?<revision>.*))?$"
		}
	],
	"customManagers": [
		{
			"customType": "regex",
			"description": "Update custom dependencies",
			"fileMatch": [
				"Dockerfile"
			],
			"matchStrings": [
				// # renovate: dependency=Sonarr/Sonarr
				// # renovate: datasource=github-releases dependency=Sonarr/Sonarr
				// # renovate: datasource=github-releases dependency=Sonarr/Sonarr versioning=loose
				// ARG VERSION="1.0.0"
				" renovate: dependency=(?<depName>\\S+)\n.+[:=]\\s*(?<currentValue>\\S+)",
				" renovate: datasource=(?<datasource>\\S+) dependency=(?<depName>\\S+)\n.+[:=]\\s*(?<currentValue>\\S+)",
				" renovate: datasource=(?<datasource>\\S+) dependency=(?<depName>\\S+)\n.+[:=]\\s*(?<currentValue>\\S+) versioning=(?<versioning>\\S+)"
			],
			"datasourceTemplate": "{{#if datasource}}{{datasource}}{{else}}docker{{/if}}",
			"versioningTemplate": "{{#if versioning}}{{versioning}}{{else}}loose{{/if}}"
		}
	]
}
